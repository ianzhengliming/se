<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å›½æ¯’è›‡å’¬ä¼¤æ€¥æ•‘æŒ‡å—</title>
    <style>
        /* CSS å˜é‡ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ä¸»é¢˜é¢œè‰² */
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --danger-color: #ff4757;
            --warning-color: #ff9f1a;
            --safe-color: #2ed573;
            --light-bg: #f8f9fa;
            --card-bg: white;
            --text-dark: #333;
            --text-light: #666;
            --border-color: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            color: white;
            padding: 30px 0;
            animation: fadeInDown 0.8s ease-out;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .emergency-banner {
            background: var(--danger-color);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
            animation: pulse 2s infinite;
            box-shadow: 0 4px 15px rgba(255,71,87,0.4);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 4px 15px rgba(255,71,87,0.4); }
            50% { transform: scale(1.02); box-shadow: 0 6px 20px rgba(255,71,87,0.6); }
            100% { transform: scale(1); box-shadow: 0 4px 15px rgba(255,71,87,0.4); }
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .action-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .action-card .icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .search-section {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        input[type="text"] {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .search-btn {
            padding: 12px 30px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            background: #5a67d8;
            transform: scale(1.05);
        }
        
        .snake-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .snake-card {
            background: var(--light-bg);
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .snake-card:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .snake-img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            background: var(--border-color);
        }
        
        .snake-info {
            padding: 15px;
            flex-grow: 1;
        }
        
        .snake-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .snake-toxin-type {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 5px;
        }
        
        .danger-level {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .danger-high { background: var(--danger-color); color: white; }
        .danger-medium { background: var(--warning-color); color: white; }
        .danger-low { background: var(--safe-color); color: white; }
        
        .search-no-result {
            grid-column: 1 / -1;
            text-align: center;
            padding: 20px;
            color: var(--text-light);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px 0;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            max-width: 600px;
            margin: 50px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            animation: slideInUp 0.4s ease-out;
        }
        
        .close-btn {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }
        .close-btn:hover {
            color: var(--text-dark);
        }
        
        .emergency-steps {
            background: #ffe0e0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--danger-color);
        }
        
        .symptoms-list {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .donate-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-top: 40px;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        
        .donate-btn {
            background: white;
            color: var(--primary-color);
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        
        .donate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255,255,255,0.4);
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: white;
            opacity: 0.8;
            font-size: 14px;
        }
        footer a {
            color: white;
            text-decoration: underline;
        }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ ä¸­å›½æ¯’è›‡å’¬ä¼¤æ€¥æ•‘æŒ‡å—</h1>
            <p class="subtitle">å¿«é€Ÿè¯†åˆ« Â· ç´§æ€¥å¤„ç† Â· æŒ½æ•‘ç”Ÿå‘½</p>
        </header>
        
        <div class="emergency-banner">
            âš ï¸ ç´§æ€¥æé†’ï¼šè¢«è›‡å’¬ä¼¤åè¯·ç«‹å³æ‹¨æ‰“120ï¼Œæœ¬æŒ‡å—ä»…ä¾›å‚è€ƒï¼
        </div>
        
        <div class="quick-actions">
            <div class="action-card" data-action="guide">
                <div class="icon">ğŸš¨</div>
                <h3>ç´§æ€¥å¤„ç†æŒ‡å—</h3>
                <p>ç«‹å³æŸ¥çœ‹æ€¥æ•‘æ­¥éª¤</p>
            </div>
            <div class="action-card" data-action="symptoms">
                <div class="icon">ğŸ”</div>
                <h3>ç—‡çŠ¶è¯†åˆ«</h3>
                <p>é€šè¿‡ç—‡çŠ¶åˆ¤æ–­è›‡ç§</p>
            </div>
            <div class="action-card" data-action="map">
                <div class="icon">ğŸ¥</div>
                <h3>é™„è¿‘åŒ»é™¢</h3>
                <p>æŸ¥æ‰¾æœ‰è¡€æ¸…çš„åŒ»é™¢</p>
            </div>
        </div>
        
        <section class="search-section">
            <h2>å¿«é€Ÿæœç´¢æ¯’è›‡ç§ç±»</h2>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="è¾“å…¥è›‡çš„ç‰¹å¾ã€é¢œè‰²æˆ–åœ°åŒº...">
                <button class="search-btn" id="searchBtn">æœç´¢</button>
            </div>
            
            <h3>å¸¸è§æ¯’è›‡ç§ç±»</h3>
            <!-- è›‡ç±»å¡ç‰‡å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            <div class="snake-grid" id="snakeGrid"></div>
        </section>
        
        <div class="donate-section">
            <h2>ğŸ’ æ”¯æŒæˆ‘ä»¬</h2>
            <p>å¦‚æœè¿™ä¸ªå·¥å…·å¸®åŠ©åˆ°äº†æ‚¨ï¼Œæ¬¢è¿æ‰“èµæ”¯æŒ</p>
            <p>æ‚¨çš„æ”¯æŒè®©æˆ‘ä»¬åšå¾—æ›´å¥½ï¼</p>
            <button class="donate-btn" id="donateBtn">æ‰“èµæ”¯æŒ</button>
        </div>

        <footer>
            <p>æœ¬æŒ‡å—ä¿¡æ¯ä»…ä¾›å‚è€ƒï¼Œè¯·ä»¥ä¸“ä¸šåŒ»ç–—æœºæ„æ„è§ä¸ºå‡†ã€‚</p>
            <p>ä¿¡æ¯æ¥æºå‚è€ƒï¼šä¸­å›½ç–¾æ§ä¸­å¿ƒã€Â© 2024 YourName</p>
        </footer>
    </div>
    
    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeBtn">Ã—</span>
            <div id="modalContent"></div>
        </div>
    </div>
    
    <script>
        // 1. æ•°æ®ä¸­å¿ƒï¼šå°†æ‰€æœ‰è›‡çš„æ•°æ®é›†ä¸­ç®¡ç†
        const snakeData = {
            cobra: {
                name: 'èˆŸå±±çœ¼é•œè›‡',
                danger: 'å‰§æ¯’',
                toxin: 'æ··åˆæ¯’ç´ ï¼ˆç¥ç»æ¯’ç´ ä¸ºä¸»ï¼‰',
                symptoms: 'å±€éƒ¨çº¢è‚¿ã€å‰§ç—›ã€ç»„ç»‡åæ­»ï¼Œéšåå‡ºç°è§†åŠ›æ¨¡ç³Šã€å‘¼å¸å›°éš¾ã€æ˜è¿·ç­‰å…¨èº«ç—‡çŠ¶ã€‚',
                serum: 'æŠ—çœ¼é•œè›‡æ¯’è¡€æ¸…',
                distribution: 'ä¸­å›½é•¿æ±Ÿä»¥å—å„çœï¼Œå¸¸è§äºä¸˜é™µã€å†œç”°ã€æ‘èˆé™„è¿‘ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=çœ¼é•œè›‡'
            },
            viper: {
                name: 'å°–å»è®ï¼ˆäº”æ­¥è›‡ï¼‰',
                danger: 'å‰§æ¯’',
                toxin: 'è¡€å¾ªæ¯’ç´ ',
                symptoms: 'ä¼¤å£å‰§ç—›ã€è‚¿èƒ€å‘å±•è¿…é€Ÿï¼Œæµè¡€ä¸æ­¢ï¼Œå¸¸æœ‰è¡€æ³¡ï¼Œå¯å¯¼è‡´å…¨èº«å‡ºè¡€å’Œç»„ç»‡å¤§é¢ç§¯åæ­»ã€‚',
                serum: 'æŠ—äº”æ­¥è›‡æ¯’è¡€æ¸…',
                distribution: 'é•¿æ±Ÿä»¥å—å±±åŒºã€å®‰å¾½ã€é‡åº†ã€æµ™æ±Ÿç­‰åœ°ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=äº”æ­¥è›‡'
            },
            bamboo: {
                name: 'ç™½å”‡ç«¹å¶é’',
                danger: 'ä¸­æ¯’',
                toxin: 'è¡€å¾ªæ¯’ç´ ',
                symptoms: 'ä¼¤å£ç¼ç—›ã€è‚¿èƒ€æ˜æ˜¾ä½†é€šå¸¸ä¸è‡´å‘½ï¼Œå¯è§ç„¦ç—•çŠ¶ç‰™å°ï¼Œå¯èƒ½å‡ºè¡€ã€‚',
                serum: 'æŠ—ç«¹å¶é’è›‡æ¯’è¡€æ¸…',
                distribution: 'å—æ–¹å„çœçš„ç«¹æ—ã€çŒæœ¨ä¸›ã€æºªè¾¹è‰ä¸›ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=ç«¹å¶é’'
            },
            krait: {
                name: 'é“¶ç¯è›‡',
                danger: 'å‰§æ¯’',
                toxin: 'ç¥ç»æ¯’ç´ ',
                symptoms: 'ä¼¤å£å‡ ä¹ä¸ç—›ä¸è‚¿ï¼Œææ˜“è¢«å¿½ç•¥ã€‚æ•°å°æ—¶åå‡ºç°å¤´æ™•ã€çœ¼ç‘ä¸‹å‚ã€å‘¼å¸éº»ç—¹ï¼Œæ˜¯è‡´æ­»ç‡æœ€é«˜çš„æ¯’è›‡ä¹‹ä¸€ã€‚',
                serum: 'æŠ—é“¶ç¯è›‡æ¯’è¡€æ¸…',
                distribution: 'é•¿æ±Ÿä»¥å—çš„æ°´åŸŸé™„è¿‘ã€ç”°è¾¹ã€è·¯æ—ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=é“¶ç¯è›‡'
            },
            kingcobra: {
                name: 'çœ¼é•œç‹è›‡',
                danger: 'å‰§æ¯’',
                toxin: 'æ··åˆæ¯’ç´ ï¼ˆç¥ç»æ¯’ç´ ä¸ºä¸»ï¼‰',
                symptoms: 'æ’æ¯’é‡å·¨å¤§ï¼Œå‘ä½œæå¿«ã€‚å…¼å…·çœ¼é•œè›‡å’Œäº”æ­¥è›‡çš„ç—‡çŠ¶ï¼Œæ­»äº¡ç‡æé«˜ã€‚',
                serum: 'æŠ—çœ¼é•œç‹è›‡æ¯’è¡€æ¸…ï¼ˆç¨€æœ‰ï¼‰',
                distribution: 'åå—å’Œè¥¿å—åœ°åŒºï¼Œæ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„æ¯’è›‡ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=çœ¼é•œç‹è›‡'
            },
            russellsviper: {
                name: 'åœ†æ–‘è°ï¼ˆé‡‘é’±è±¹ï¼‰',
                danger: 'å‰§æ¯’',
                toxin: 'è¡€å¾ªæ¯’ç´ ',
                symptoms: 'å¼‚å¸¸å‰§ç—›å’Œè‚¿èƒ€ï¼Œä¼¤å£æµè¡€ä¸æ­¢ï¼Œå¯å¯¼è‡´æ€¥æ€§è‚¾è¡°ç«­å’Œå…¨èº«å‡ºè¡€ã€‚',
                serum: 'æŠ—è°è›‡æ¯’è¡€æ¸…',
                distribution: 'åå—ã€ç¦å»ºã€å°æ¹¾ç­‰åœ°ã€‚',
                img: 'https://via.placeholder.com/200x150.png?text=åœ†æ–‘è°'
            }
        };

        const dangerClassMap = {
            'å‰§æ¯’': 'danger-high',
            'ä¸­æ¯’': 'danger-medium',
            'å¾®æ¯’': 'danger-low'
        };
        
        // 2. DOM å…ƒç´ ç¼“å­˜
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modalContent');
        const snakeGrid = document.getElementById('snakeGrid');
        const searchInput = document.getElementById('searchInput');

        // 3. æ ¸å¿ƒåŠŸèƒ½å‡½æ•°
        const showModal = (content) => {
            modalContent.innerHTML = content;
            modal.style.display = 'block';
        };

        const closeModal = () => {
            modal.style.display = 'none';
        };

        const showEmergencyGuide = () => {
            const content = `
                <h2>ğŸš¨ æ¯’è›‡å’¬ä¼¤ç´§æ€¥å¤„ç†</h2>
                <div class="emergency-steps">
                    <h3>ç«‹å³æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼ˆâ€œå†·é™ã€è®°ã€æ‰“ã€è„±ã€åŠ¨ã€æ´—â€ï¼‰</h3>
                    <ol>
                        <li><strong>ä¿æŒå†·é™</strong>ï¼šåˆ‡å‹¿æ…Œå¼ å¥”è·‘ï¼Œå‡å°‘æ´»åŠ¨ï¼Œä»¥å‡ç¼“æ¯’ç´ æ‰©æ•£ã€‚</li>
                        <li><strong>è®°ä½ç‰¹å¾</strong>ï¼šå°½å¯èƒ½è®°ä½è›‡çš„é¢œè‰²ã€èŠ±çº¹ã€å¤´éƒ¨å½¢çŠ¶ï¼Œæˆ–ç”¨æ‰‹æœºæ‹ç…§ã€‚</li>
                        <li><strong>ç«‹å³æ‹¨æ‰“120</strong>ï¼šæ¸…æ¥šè¯´æ˜è¢«æ¯’è›‡å’¬ä¼¤åŠæ‰€åœ¨ä½ç½®ã€‚</li>
                        <li><strong>è„±å»é¥°å“</strong>ï¼šç«‹å³å–ä¸‹ä¼¤è‚¢ä¸Šçš„æˆ’æŒ‡ã€æ‰‹é•¯ã€æ‰‹è¡¨ç­‰ï¼Œä»¥é˜²åç»­è‚¿èƒ€æ— æ³•å–å‡ºã€‚</li>
                        <li><strong>åˆ¶åŠ¨ä¼¤è‚¢</strong>ï¼šç”¨å¤¹æ¿æˆ–æ ‘æå›ºå®šä¼¤è‚¢ï¼Œä¿æŒä½äºå¿ƒè„æ°´å¹³ã€‚</li>
                        <li><strong>æ¸…æ´—ä¼¤å£</strong>ï¼šå¯ç”¨å¤§é‡æ¸…æ°´æˆ–è‚¥çš‚æ°´å†²æ´—ä¼¤å£ï¼Œä½†ä¸è¦æŒ¤å‹æˆ–åˆ‡å‰²ä¼¤å£ã€‚</li>
                    </ol>
                </div>
                <div style="background: var(--danger-color); color: white; padding: 15px; border-radius: 10px; margin-top: 20px;">
                    <h3>âš ï¸ è‡´å‘½é”™è¯¯ï¼Œåƒä¸‡ä¸è¦åšï¼š</h3>
                    <ul style="list-style: none; padding-left: 0;">
                        <li>âŒ ç”¨å˜´å¸æ¯’ï¼šå¯èƒ½å¯¼è‡´æ–½æ•‘è€…ä¸­æ¯’ã€‚</li>
                        <li>âŒ ç”¨åˆ€åˆ‡å¼€ä¼¤å£ï¼šå¯èƒ½åŠ é‡æŸä¼¤å’Œæ„ŸæŸ“ã€‚</li>
                        <li>âŒ ç”¨ç»³å­ç´§å‹’ï¼šå¯èƒ½å¯¼è‡´è‚¢ä½“ç¼ºè¡€åæ­»ã€‚</li>
                        <li>âŒ é¥®é…’æˆ–å’–å•¡ï¼šä¼šåŠ é€Ÿè¡€æ¶²å¾ªç¯ï¼Œä½¿æ¯’ç´ æ‰©æ•£æ›´å¿«ã€‚</li>
                        <li>âŒ æ¶‚æŠ¹è‰è¯æˆ–åæ–¹ï¼šæ— æ•ˆä¸”å¯èƒ½å¯¼è‡´æ„ŸæŸ“ã€‚</li>
                    </ul>
                </div>
            `;
            showModal(content);
        };
        
        const identifyBySymptoms = () => {
            const content = `
                <h2>ğŸ” é€šè¿‡ç—‡çŠ¶è¯†åˆ«æ¯’è›‡ç±»å‹</h2>
                <div class="symptoms-list">
                    <h3>ç¥ç»æ€§æ¯’ç´ ç—‡çŠ¶ï¼ˆå‘ä½œæ…¢ï¼Œä½†æ›´è‡´å‘½ï¼‰</h3>
                    <ul>
                        <li>ä¼¤å£é€šå¸¸ä¸ç—›ä¸è‚¿ï¼Œæ˜“è¢«å¿½è§†ã€‚</li>
                        <li>çœ¼ç‘ä¸‹å‚ã€è§†åŠ›æ¨¡ç³Šã€å¤è§†ã€‚</li>
                        <li>è¯´è¯å›°éš¾ã€åå’½å›°éš¾ã€æµå£æ°´ã€‚</li>
                        <li>æœ€ç»ˆå¯¼è‡´å‘¼å¸è‚Œéº»ç—¹ï¼Œå‘¼å¸è¡°ç«­æ­»äº¡ã€‚</li>
                        <li><strong>å…¸å‹è›‡ç§ï¼š</strong>é“¶ç¯è›‡ã€é‡‘ç¯è›‡ã€æµ·è›‡ã€‚</li>
                    </ul>
                </div>
                <div class="symptoms-list">
                    <h3>è¡€å¾ªæ¯’ç´ ç—‡çŠ¶ï¼ˆå‘ä½œå¿«ï¼Œç—‡çŠ¶æ˜æ˜¾ï¼‰</h3>
                    <ul>
                        <li>ä¼¤å£å±€éƒ¨å‰§ç—›ã€çƒ§ç¼æ„Ÿã€è¿…é€Ÿè‚¿èƒ€ã€‚</li>
                        <li>çš®ä¸‹å‡ºè¡€ã€èµ·æ°´æ³¡ã€è¡€æ³¡ï¼Œç»„ç»‡å‘é»‘åæ­»ã€‚</li>
                        <li>ä¼¤å£æµè¡€ä¸æ­¢ï¼Œç”šè‡³ä¸ƒçªæµè¡€ã€‚</li>
                        <li>å¯èƒ½å¯¼è‡´å¿ƒå¾‹å¤±å¸¸ã€ä¼‘å…‹ã€è‚¾è¡°ç«­ã€‚</li>
                        <li><strong>å…¸å‹è›‡ç§ï¼š</strong>è®è›‡ã€äº”æ­¥è›‡ã€ç«¹å¶é’ã€è°è›‡ã€‚</li>
                    </ul>
                </div>
                <div class="symptoms-list">
                    <h3>æ··åˆæ¯’ç´ ç—‡çŠ¶</h3>
                    <ul>
                        <li>åŒæ—¶å‡ºç°ä»¥ä¸Šä¸¤ç§ç—‡çŠ¶ï¼Œç—…æƒ…å¤æ‚å‡¶é™©ã€‚</li>
                        <li><strong>å…¸å‹è›‡ç§ï¼š</strong>çœ¼é•œè›‡ã€çœ¼é•œç‹è›‡ã€‚</li>
                    </ul>
                </div>
            `;
            showModal(content);
        };
        
        const showHospitalMap = () => {
            alert('å³å°†è·³è½¬åˆ°åœ°å›¾ï¼Œä¸ºæ‚¨æŸ¥æ‰¾é™„è¿‘æœ‰æŠ—è›‡æ¯’è¡€æ¸…çš„åŒ»é™¢...');
            // ä½¿ç”¨ç™¾åº¦åœ°å›¾APIè¿›è¡Œæœç´¢ï¼Œæä¾›æ›´å®ç”¨çš„åŠŸèƒ½
            window.open('https://map.baidu.com/search/é™„è¿‘æœ‰æŠ—è›‡æ¯’è¡€æ¸…çš„åŒ»é™¢', '_blank');
        };

        const showSnakeDetail = (snakeKey) => {
            const snake = snakeData[snakeKey];
            if (!snake) return;

            const dangerClass = dangerClassMap[snake.danger] || 'danger-medium';
            const content = `
                <h2>ğŸ ${snake.name} è¯¦ç»†ä¿¡æ¯</h2>
                <div style="background: var(--light-bg); padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p><strong>å±é™©ç­‰çº§ï¼š</strong><span class="danger-level ${dangerClass}">${snake.danger}</span></p>
                    <p><strong>æ¯’ç´ ç±»å‹ï¼š</strong>${snake.toxin}</p>
                    <p><strong>å…¸å‹ç—‡çŠ¶ï¼š</strong>${snake.symptoms}</p>
                    <p><strong>æ‰€éœ€è¡€æ¸…ï¼š</strong>${snake.serum}</p>
                    <p><strong>ä¸»è¦åˆ†å¸ƒï¼š</strong>${snake.distribution}</p>
                </div>
                <div class="emergency-steps">
                    <h3>è¢« ${snake.name} å’¬ä¼¤åç‰¹åˆ«æé†’ï¼š</h3>
                    <ol>
                        <li><strong>ç«‹å³æ‹¨æ‰“120ï¼</strong> è¿™æ˜¯æœ€é‡è¦çš„æ­¥éª¤ã€‚</li>
                        <li>å‘ŠçŸ¥åŒ»ç”Ÿæ˜¯è¢« <strong>${snake.name}</strong> å’¬ä¼¤ï¼Œä»¥ä¾¿å‡†å¤‡å¯¹åº”çš„ <strong>${snake.serum}</strong>ã€‚</li>
                        <li>ç‰¢è®°æ€¥æ•‘åŸåˆ™ï¼Œä¿æŒå†·é™ï¼Œç­‰å¾…æ•‘æ´ã€‚</li>
                    </ol>
                </div>
            `;
            showModal(content);
        };

        const showDonate = () => {
            const content = `
                <h2>ğŸ’ æ„Ÿè°¢æ‚¨çš„æ”¯æŒ</h2>
                <p style="text-align: center; margin: 20px 0;">æ‚¨çš„æ‰“èµæ˜¯å¯¹æˆ‘ä»¬æœ€å¤§çš„é¼“åŠ±ï¼</p>
                <div style="text-align: center;">
                    <img src="https://via.placeholder.com/250x250.png?text=åœ¨è¿™é‡Œæ›¿æ¢æˆæ‚¨çš„æ”¶æ¬¾ç " alt="æ”¶æ¬¾äºŒç»´ç " style="max-width: 100%;">
                    <p style="color: var(--text-light); margin-top: 20px;">é‡‘é¢éšæ„ï¼Œæ„Ÿè°¢æ”¯æŒï¼</p>
                </div>
            `;
            showModal(content);
        };

        const renderSnakeGrid = (keysToRender) => {
            snakeGrid.innerHTML = ''; // æ¸…ç©ºç°æœ‰å†…å®¹
            if (keysToRender.length === 0) {
                snakeGrid.innerHTML = '<p class="search-no-result">æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ¯’è›‡ä¿¡æ¯ã€‚</p>';
                return;
            }

            keysToRender.forEach(key => {
                const snake = snakeData[key];
                const dangerClass = dangerClassMap[snake.danger] || 'danger-medium';
                const card = document.createElement('div');
                card.className = 'snake-card';
                card.dataset.snakeKey = key; // ä½¿ç”¨ data-* å±æ€§å­˜å‚¨key
                card.innerHTML = `
                    <img class="snake-img" src="${snake.img}" alt="${snake.name}çš„å›¾ç‰‡">
                    <div class="snake-info">
                        <div class="snake-name">${snake.name}</div>
                        <span class="danger-level ${dangerClass}">${snake.danger}</span>
                        <p class="snake-toxin-type">${snake.toxin}</p>
                    </div>
                `;
                snakeGrid.appendChild(card);
            });
        };

        const searchSnake = () => {
            const keyword = searchInput.value.trim().toLowerCase();
            if (!keyword) {
                renderSnakeGrid(Object.keys(snakeData)); // å¦‚æœä¸ºç©ºï¼Œæ˜¾ç¤ºå…¨éƒ¨
                return;
            }

            const filteredKeys = Object.keys(snakeData).filter(key => {
                const snake = snakeData[key];
                return (
                    snake.name.toLowerCase().includes(keyword) ||
                    snake.toxin.toLowerCase().includes(keyword) ||
                    snake.distribution.toLowerCase().includes(keyword) ||
                    snake.symptoms.toLowerCase().includes(keyword)
                );
            });
            renderSnakeGrid(filteredKeys);
        };
        
        // 4. äº‹ä»¶ç›‘å¬å™¨è®¾ç½®
        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŠ è½½æ‰€æœ‰è›‡ç±»
            renderSnakeGrid(Object.keys(snakeData));

            // äº‹ä»¶å§”æ‰˜ï¼šä¸º quick-actions å’Œ snake-grid çš„çˆ¶å…ƒç´ æ·»åŠ ç›‘å¬
            document.querySelector('.quick-actions').addEventListener('click', (e) => {
                const card = e.target.closest('.action-card');
                if (!card) return;
                const action = card.dataset.action;
                if (action === 'guide') showEmergencyGuide();
                else if (action === 'symptoms') identifyBySymptoms();
                else if (action === 'map') showHospitalMap();
            });

            snakeGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.snake-card');
                if (card && card.dataset.snakeKey) {
                    showSnakeDetail(card.dataset.snakeKey);
                }
            });

            // ç‹¬ç«‹äº‹ä»¶ç»‘å®š
            document.getElementById('searchBtn').addEventListener('click', searchSnake);
            searchInput.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    searchSnake();
                }
            });
            // å®æ—¶æœç´¢ä½“éªŒæ›´å¥½
            searchInput.addEventListener('input', searchSnake); 

            document.getElementById('donateBtn').addEventListener('click', showDonate);
            document.getElementById('closeBtn').addEventListener('click', closeModal);

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });

    </script>
</body>
</html>
